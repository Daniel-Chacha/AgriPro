{% extends "minimaster.html" %}
{% load static %}

{% block title %}
    Soil Health
{% endblock title %} 

{% block headerInsertion %}
    <h1> Soil Health & Fertilizer Application</h1>
    <p>Maintain soil fertility, choose appropriate fertilizers, and track soil conditions for better crop yield.</p>
{% endblock headerInsertion %}

{% block usage %}
    <div id="middle">
        <div id="soil-fertilizer">

            <!-- Soil Testing Section -->
            <section id="soil-testing" class="soil-section">
                <h2>Soil Testing Recommendations</h2>
                <p>Regular soil testing helps you understand the nutrient levels and pH balance of your soil, ensuring your crops get the best conditions to thrive.</p>
                <ul class="list">
                    <li>Test soil every 1-3 years depending on crop intensity.</li>
                    <li>Collect soil samples from various locations in your field for accurate results.</li>
                    <li>Test for pH levels, organic matter, and essential nutrients like Nitrogen (N), Phosphorus (P), and Potassium (K)</li>
                    <li><a href="https://www.google.com/maps/search/a+soil+testing+lab+near+me/@-1.222528,36.5742558,11z/data=!3m1!4b1?entry=ttu&g_ep=EgoyMDI0MDkyMy4wIKXMDSoASAFQAw%3D%3D" target="blank">Find a soil testing lab near you</a></li>
                </ul>
            </section>

             <!-- Fertilizer Suggestions Section -->
             <section id="fertilizer-suggestion" class="soil-section">
                <h2>Fertilizer Suggestions Based on Crop and Soil Type</h2>
                <p>Select your crop and soil type to get personalized fertilizer suggestions.</p>
                <form id="fertilizer-form">
                    {% csrf_token %}
                    <label for="crops">Choose Crop:</label>
                    <select id="crop" name='crop_name' required>
                        <option value=""></option>
                        <option value="maize">Maize</option>
                        <option value="tea">Tea</option>
                        <option value="coffee">Coffee</option>
                        <option value="pineapples">Pineapples</option>
                        <option value="sugarcane">Sugarcane</option>
                        <option value="irish potato">Irish potato</option>
                        <option value="banana">Banana</option>
                        <option value="beans">Beans</option>
                        <option value="kales">Kales</option>
                        <option value="onions">Onions</option>
                        <option value="cassava">Cassava</option>
                        <option value="sweet potato">Sweet Potato</option>
                        <option value="avocado">Avocado</option>
                        <option value="cabbage">Cabbage</option>
                        <option value="groundnuts">Groundnuts</option>
                        <option value="sorghum">Sorghum</option>
                        <option value="millet">Millet</option>
                        <option value="carrot">Carrots</option>
                        <option value="spinach">Spinach</option>
                        <option value="wheat">Wheat</option>
                        <option value="rice">Rice</option>
                        <option value="tomato">Tomato</option>
                    </select>

                    <label for="soil-type">Select Soil Type:</label>
                    <select id="soil-type" name="soil_type" required>
                        <option value=""></option>
                        <option value="loamy">Loamy</option>
                        <option value="sandy">Sandy</option>
                        <option value="clay">Clay</option>
                        <option value="volcanic">Volcanic</option>
                        <option value="silt">Silt</option>
                    </select>

                    <button type="button" onclick="suggestFertilizer()">Get Fertilizer Suggestion</button>
                </form>
                <div id="fertilizer-result" class="result"> {{ suggestion }}</div>
                
             </section>

              <!-- pH and Nutrient Management Section -->
              <section id="ph-nutrient-management" class="soil-section">
                <h2>pH and Nutrient Management Tracking</h2>
                <p>Track and manage your soil's pH levels and nutrient balance for optimal crop growth.</p>
                <form id="ph-form">
                    <label for="ph-level">Current pH Level:</label>
                    <input type="number" id="ph-level" step="0.1" placeholder="e.g., 6.5">
                    <button type="button" onclick="trackpH()">Track pH Level</button>
                  </form>
    
                  <div id="ph-result" class="result"></div>
              </section>

               <!-- Organic Farming Options Section -->
               <section id="organic-options" class="soil-section">
                <h2>Organic Farming Options and Recommendations</h2>
                <p>Consider organic farming practices to maintain soil health and minimize environmental impact. </p>
                <ul>
                    <li>Use organic fertilizers like compost, manure, or bone meal to enrich the soil.</li>
                    <li>Plant cover crops (e.g., clover, alfalfa) to add organic matter and nutrients to the soil.</li>
                    <li>Rotate crops to break pest cycles and improve soil structure.</li>
                    <li><a href="https://en.wikipedia.org/wiki/Organic_fertilizer" target="blank">Learn more about organic fertilizers</li>
                </ul>
               </section>
        </div>
    </div>
{% endblock usage %}